{"ast":null,"code":"import _slicedToArray from\"/Users/shilaghasharma/Desktop/exam_revise/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";// import React, { useEffect, useState } from 'react'\n// import axios from 'axios';\n// import { useParams } from \"react-router-dom\";\n// const Update = (props) => {\n//     const { id } = useParams();\n//     const [title, setTitle] = useState('');\n//     const [body, setBody] = useState('');\n//     const [errors, setErrors] = useState([]);\n//     const { removeFromDom } = props;\n//     useEffect(() => {\n//         axios.get('http://localhost:8000/api/note/' + id)\n//             .then(res => {\n//                 console.log(\"this is my update page\" , res.data)\n//                 setTitle(res.data.title);\n//                 setBody(res.data.body);\n//             })\n//     }, [id]);\n//     const updatePerson = e => {\n//         e.preventDefault();\n//         axios.patch('http://localhost:8000/api/note/' + id, {\n//             title,\n//             body,\n//         })\n//         .catch(err => {\n//             const errorResponse = err.response.data.errors; \n//             console.log(errorResponse)\n//             // Get the errors from err.response.data\n//             const errorArr = []; // Define a temp error array to push the messages in\n//             for (const key of Object.keys(errorResponse)) { // Loop through all errors and get the messages\n//                 errorArr.push(errorResponse[key].message)\n//             }\n//             // Set Errors\n//             setErrors(errorArr);\n//         })\n//     }\n//     const deleteNote = (noteId) => {\n//       axios.delete('http://localhost:8000/api/note/' + noteId)\n//         .then(res => {\n//           removeFromDom(noteId);\n//         })\n//         .catch(err => console.error(err));\n//     };\n//     return (\n//         <div>\n//             <h1>Update a Person</h1>\n//             <form onSubmit={updatePerson}>\n//                 <p>\n//                     <label>Title</label><br />\n//                     <input type=\"text\" \n//                     name=\"title\" \n//                     value={title} \n//                     onChange={(e) => { setTitle(e.target.value) }} />\n//                 </p>\n//                 <p>\n//                     <label>Body</label><br />\n//                     <input type=\"text\" \n//                     name=\"body\"\n//                     value={body} \n//                     onChange={(e) => { setBody(e.target.value) }} />\n//                 </p>\n//                 <input type=\"submit\" />| <button onClick={() => { deleteNote(note._id); }}>Delete</button>\n//             </form>\n//             <p>\n//                 {errors}\n//             </p>\n//         </div>\n//     )\n// }\n// export default Update;\nimport React,{useEffect,useState}from'react';import axios from'axios';import{useParams,useNavigate,Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Update=function Update(props){var _useParams=useParams(),id=_useParams.id;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),body=_useState4[0],setBody=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),errors=_useState6[0],setErrors=_useState6[1];var navigate=useNavigate();useEffect(function(){axios.get(\"http://localhost:8000/api/note/\".concat(id)).then(function(res){setTitle(res.data.title);setBody(res.data.body);}).catch(function(err){console.error(err);});},[id]);var updateNote=function updateNote(e){e.preventDefault();axios.patch(\"http://localhost:8000/api/note/\".concat(id),{title:title,body:body}).then(function(){navigate('/');}).catch(function(err){var errorResponse=err.response.data.errors;var errorArr=[];for(var _i=0,_Object$keys=Object.keys(errorResponse);_i<_Object$keys.length;_i++){var key=_Object$keys[_i];errorArr.push(errorResponse[key].message);}setErrors(errorArr);});};var deleteNote=function deleteNote(noteId){axios.delete(\"http://localhost:8000/api/note/\".concat(noteId)).then(function(res){props.removeFromDom(noteId);navigate('/');}).catch(function(err){return console.error(err);});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Home\"}),/*#__PURE__*/_jsx(\"h1\",{children:\"Update a Note\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:updateNote,children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Title\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"title\",value:title,onChange:function onChange(e){return setTitle(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Body\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"body\",value:body,onChange:function onChange(e){return setBody(e.target.value);}})]}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\"}),\" |\",' ',/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return deleteNote(id);},children:\"Delete\"})]}),/*#__PURE__*/_jsx(\"p\",{children:errors})]});};export default Update;","map":{"version":3,"names":["React","useEffect","useState","axios","useParams","useNavigate","Link","jsx","_jsx","jsxs","_jsxs","Update","props","_useParams","id","_useState","_useState2","_slicedToArray","title","setTitle","_useState3","_useState4","body","setBody","_useState5","_useState6","errors","setErrors","navigate","get","concat","then","res","data","catch","err","console","error","updateNote","e","preventDefault","patch","errorResponse","response","errorArr","_i","_Object$keys","Object","keys","length","key","push","message","deleteNote","noteId","delete","removeFromDom","children","to","onSubmit","type","name","value","onChange","target","onClick"],"sources":["/Users/shilaghasharma/Desktop/exam_revise/client/src/views/Update.jsx"],"sourcesContent":["// import React, { useEffect, useState } from 'react'\n// import axios from 'axios';\n// import { useParams } from \"react-router-dom\";\n    \n// const Update = (props) => {\n//     const { id } = useParams();\n//     const [title, setTitle] = useState('');\n//     const [body, setBody] = useState('');\n//     const [errors, setErrors] = useState([]);\n//     const { removeFromDom } = props;\n    \n\n//     useEffect(() => {\n//         axios.get('http://localhost:8000/api/note/' + id)\n//             .then(res => {\n//                 console.log(\"this is my update page\" , res.data)\n//                 setTitle(res.data.title);\n//                 setBody(res.data.body);\n               \n//             })\n//     }, [id]);\n    \n//     const updatePerson = e => {\n//         e.preventDefault();\n//         axios.patch('http://localhost:8000/api/note/' + id, {\n//             title,\n//             body,\n            \n//         })\n//         .catch(err => {\n            \n//             const errorResponse = err.response.data.errors; \n//             console.log(errorResponse)\n//             // Get the errors from err.response.data\n//             const errorArr = []; // Define a temp error array to push the messages in\n//             for (const key of Object.keys(errorResponse)) { // Loop through all errors and get the messages\n//                 errorArr.push(errorResponse[key].message)\n//             }\n//             // Set Errors\n//             setErrors(errorArr);\n//         })\n//     }\n\n    \n\n//     const deleteNote = (noteId) => {\n//       axios.delete('http://localhost:8000/api/note/' + noteId)\n//         .then(res => {\n//           removeFromDom(noteId);\n//         })\n//         .catch(err => console.error(err));\n//     };\n    \n//     return (\n//         <div>\n//             <h1>Update a Person</h1>\n//             <form onSubmit={updatePerson}>\n//                 <p>\n//                     <label>Title</label><br />\n//                     <input type=\"text\" \n//                     name=\"title\" \n//                     value={title} \n//                     onChange={(e) => { setTitle(e.target.value) }} />\n//                 </p>\n//                 <p>\n//                     <label>Body</label><br />\n//                     <input type=\"text\" \n//                     name=\"body\"\n//                     value={body} \n//                     onChange={(e) => { setBody(e.target.value) }} />\n//                 </p>\n\n               \n\n//                 <input type=\"submit\" />| <button onClick={() => { deleteNote(note._id); }}>Delete</button>\n//             </form>\n//             <p>\n//                 {errors}\n//             </p>\n//         </div>\n//     )\n// }\n    \n// export default Update;\n\n\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { useParams, useNavigate,Link } from 'react-router-dom';\n\nconst Update = (props) => {\n  const { id } = useParams();\n  const [title, setTitle] = useState('');\n  const [body, setBody] = useState('');\n  const [errors, setErrors] = useState([]);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    axios\n      .get(`http://localhost:8000/api/note/${id}`)\n      .then((res) => {\n        setTitle(res.data.title);\n        setBody(res.data.body);\n      })\n      .catch((err) => {\n        console.error(err);\n      });\n  }, [id]);\n\n  const updateNote = (e) => {\n    e.preventDefault();\n    axios\n      .patch(`http://localhost:8000/api/note/${id}`, {\n        title,\n        body,\n      })\n      .then(() => {\n        navigate('/');\n      })\n      .catch((err) => {\n        const errorResponse = err.response.data.errors;\n        const errorArr = [];\n        for (const key of Object.keys(errorResponse)) {\n          errorArr.push(errorResponse[key].message);\n        }\n        setErrors(errorArr);\n      });\n  };\n\n  const deleteNote = (noteId) => {\n    axios\n      .delete(`http://localhost:8000/api/note/${noteId}`)\n      .then((res) => {\n        props.removeFromDom(noteId);\n        navigate('/');\n      })\n      .catch((err) => console.error(err));\n  };\n\n  return (\n    <div>\n         <Link to={\"/\"}>Home</Link>\n      <h1>Update a Note</h1>\n      <form onSubmit={updateNote}>\n        <p>\n          <label>Title</label>\n          <br />\n          <input\n            type=\"text\"\n            name=\"title\"\n            value={title}\n            onChange={(e) => setTitle(e.target.value)}\n          />\n        </p>\n        <p>\n          <label>Body</label>\n          <br />\n          <input\n            type=\"text\"\n            name=\"body\"\n            value={body}\n            onChange={(e) => setBody(e.target.value)}\n          />\n        </p>\n\n        <input type=\"submit\" /> |{' '}\n        <button onClick={() => deleteNote(id)}>Delete</button>\n      </form>\n      <p>{errors}</p>\n    </div>\n  );\n};\n\nexport default Update;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}